/**
 * Case List - Card-based design
 */

/* Override container max-width */
.govuk-width-container {
  max-width: 1100px !important;
}

/* Page header */
.page-header {
  margin-bottom: 20px;
}

.page-header .govuk-heading-xl {
  margin-bottom: 10px;
}

/* Search section */
.search-section {
  margin-bottom: 20px;
}

.search-section__labels {
  margin-bottom: 10px;
}

.search-section__controls {
  display: flex;
  align-items: center;
  gap: 10px;
}

.search-group__input {
  width: 100%;
  max-width: 700px;
  margin-bottom: 0;
}

.search-group__button {
  margin-bottom: 0;
}

@media (max-width: 640px) {
  .search-section__controls {
    flex-direction: column;
    align-items: flex-start;
  }

  .search-group__input {
    width: 100%;
  }
}

/* Filters section */
.filters-section {
  display: flex;
  gap: 20px;
  margin-bottom: 20px;
}

.filters-section--mobile {
  display: none;
  margin-bottom: 20px;
}

.filters-section__item {
  display: flex;
  flex-direction: column;
  gap: 5px;
}

.filters-section__item .govuk-label {
  font-size: 16px;
  margin-bottom: 0;
}

@media (max-width: 640px) {
  .filters-section--desktop {
    display: none;
  }

  .filters-section--mobile {
    display: block;
  }

  .filters-section--mobile .filters-section__item {
    margin-bottom: 15px;
  }

  .filters-section--mobile .filters-section__item:last-child {
    margin-bottom: 0;
  }

  .filters-section__item .govuk-select {
    width: 100%;
  }
}

/* Section styling */
.case-section {
  margin-bottom: 40px;
}

.case-section__header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 15px;
  padding-bottom: 10px;
  border-bottom: 1px solid #b1b4b6;
}

.case-section__title {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 0;
}

.case-section__indicator {
  width: 12px;
  height: 12px;
  border-radius: 50%;
  flex-shrink: 0;
}

.case-section__indicator--red {
  background-color: #d4351c;
}

.case-section__indicator--blue {
  background-color: #1d70b8;
}

.case-section__indicator--grey {
  background-color: #b1b4b6;
}

.case-section__count {
  color: #505a5f;
  font-size: 16px;
}

/* Case list container */
.case-list {
  display: flex;
  flex-direction: column;
  gap: 1px;
  background-color: #b1b4b6;
  border: 1px solid #b1b4b6;
  border-radius: 4px;
  overflow: hidden;
}

/* Case card */
.case-card {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 16px 20px;
  background-color: #ffffff;
  text-decoration: none;
  color: inherit;
  transition: background-color 0.1s ease;
}

.case-card:hover {
  background-color: #f3f2f1;
}

.case-card:focus {
  outline: 3px solid #ffdd00;
  outline-offset: 0;
  background-color: #ffdd00;
}

.case-card__main {
  display: flex;
  flex-direction: column;
  gap: 4px;
  min-width: 0;
  flex: 1;
}

.case-card__reference {
  font-weight: 700;
  font-size: 19px;
  color: #1d70b8;
}

.case-card:hover .case-card__reference {
  text-decoration: underline;
}

.case-card__address {
  color: #0b0c0c;
  font-size: 16px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.case-card__meta {
  display: flex;
  align-items: center;
  gap: 15px;
  flex-shrink: 0;
  margin-left: 20px;
}

.case-card__due {
  font-size: 14px;
  color: #505a5f;
  white-space: nowrap;
}

.case-card__due--overdue {
  color: #d4351c;
  font-weight: 700;
}

.case-card__due--today {
  color: #b58105;
  font-weight: 700;
}

.case-card__due--soon {
  color: #505a5f;
}

/* Status pills */
.case-card__status {
  display: inline-block;
  padding: 4px 10px;
  font-size: 14px;
  font-weight: 700;
  border-radius: 4px;
  white-space: nowrap;
}

.case-card__status--blue {
  background-color: #d2e2f1;
  color: #144e81;
}

.case-card__status--yellow {
  background-color: #fff7bf;
  color: #594d00;
}

.case-card__status--grey {
  background-color: #eeefef;
  color: #383f43;
}

.case-card__status--purple {
  background-color: #dbd5e9;
  color: #3d2375;
}

/* Muted cards for waiting section */
.case-card--muted {
  opacity: 0.75;
}

.case-card--muted:hover {
  opacity: 1;
}

/* Overdue card accent */
.case-card--overdue {
  border-left: 4px solid #d4351c;
  padding-left: 16px;
}

/* Due today card accent */
.case-card--due-today {
  border-left: 4px solid #b58105;
  padding-left: 16px;
}

/* Status dashboard */
.status-dashboard {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 15px;
}

.status-card {
  display: flex;
  flex-direction: column;
  padding: 20px;
  background-color: #f3f2f1;
  text-decoration: none;
  transition: background-color 0.15s ease;
}

.status-card:hover {
  background-color: #e8e6e3;
}

.status-card:focus {
  outline: 3px solid #ffdd00;
  outline-offset: 0;
  background-color: #ffdd00;
}

.status-card__count {
  font-family: "GDS Transport", arial, sans-serif;
  font-size: 36px;
  font-weight: 700;
  color: #0b0c0c;
  line-height: 1;
}

.status-card__label {
  font-family: "GDS Transport", arial, sans-serif;
  font-size: 16px;
  color: #505a5f;
  margin-top: 5px;
}

@media (max-width: 640px) {
  .status-dashboard {
    grid-template-columns: 1fr;
  }
}

/* Applications table */
.app-table__reference {
  font-family: "GDS Transport", arial, sans-serif;
  font-weight: 700;
  display: block;
}

.app-table__address {
  font-family: "GDS Transport", arial, sans-serif;
  display: block;
  color: #505a5f;
  font-size: 16px;
  margin-top: 5px;
}

/* Mobile: transform table to stacked cards */
@media (max-width: 640px) {
  .app-table thead {
    display: none;
  }

  .app-table,
  .app-table tbody,
  .app-table tr,
  .app-table td {
    display: block;
    width: 100%;
  }

  .app-table tr {
    padding: 15px 0;
    border-bottom: 1px solid #b1b4b6;
  }

  .app-table td {
    padding: 5px 0;
    border: none;
  }

  .app-table td[data-label="Expiry date"]::before {
    content: "Expires ";
    font-family: "GDS Transport", arial, sans-serif;
    color: #505a5f;
  }
}

/* Responsive */
@media (max-width: 768px) {
  .page-header {
    flex-direction: column;
    gap: 20px;
  }

  .page-header__actions {
    width: 100%;
    flex-direction: column;
    align-items: stretch;
  }

  .search-box__input {
    width: 100%;
  }

  .case-card {
    flex-direction: column;
    align-items: flex-start;
    gap: 12px;
  }

  .case-card__meta {
    margin-left: 0;
    width: 100%;
    justify-content: space-between;
  }
}
